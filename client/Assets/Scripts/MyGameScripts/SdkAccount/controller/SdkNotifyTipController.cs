// **********************************************************************
// Copyright (c) 2016 Baoyugame. All rights reserved.
// Author : Xianjian
// Created : 10/21/2016 5:51:05 PM
// Desc	: Auto generated by MarsZ. update this if need.
// **********************************************************************

using UnityEngine;

/// <summary>
/// This is the controller class for module SdkNotifyTip, use this to control the ui or view , such as it's init , update or dispose.
/// @Xianjian in 10/21/2016 5:51:05 PM
/// </summary>
public class SdkNotifyTipController : MonoViewController<SdkNotifyTip>
{
    private static SdkNotifyTipController _instance;
    public static SdkNotifyTipController Instance { get { return _instance; } }

    public static void Setup(GameObject parent)
    {
        //xxj begin
        //GameObject prefab = AssetPipeline.ResourcePoolManager.Instance.LoadUI(SdkNotifyTip.NAME) as GameObject;
        //xxj end

        GameObject prefab = ResourceManager.Load(SdkNotifyTip.NAME) as GameObject;
        if (prefab != null)
        {
            if (parent == null)
            {
                return;
            }
            GameObject go = NGUITools.AddChild(parent, prefab);
            go.SetActive(false);
            _instance = go.GetMissingComponent<SdkNotifyTipController>();
            NGUITools.AdjustDepth(go, SdkModuleMgr.Instance.SdkTopLayer);
        }
    }

    public static void SetShow(bool bShow)
    {
        _instance.gameObject.SetActive(bShow);
    }

    public void ShowTips(string tips)
    {
        SetShow(true);
        _view.TipLabel.text = tips;
    }

    protected override void RegisterEvent()
    {
        EventDelegate.Set(_view.commitBtn.onClick, CommitBtn);
    }

    public void CommitBtn()
    {
        SetShow(false);
    }
}
