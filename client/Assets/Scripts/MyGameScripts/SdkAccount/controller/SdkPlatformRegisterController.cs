// **********************************************************************
// Copyright (c) 2016 Baoyugame. All rights reserved.
// Author : Xianjian
// Created : 9/29/2016 5:56:46 PM
// Desc	: Auto generated by MarsZ. update this if need.
// **********************************************************************

using UnityEngine;
 /// <summary>
 /// This is the controller class for module PlatformRegister, use this to control the ui or view , such as it's init , update or dispose.
 /// @Xianjian in 9/29/2016 5:56:46 PM
 /// </summary>
public class SdkPlatformRegisterController : MonoViewController<SdkPlatformRegisterView>
{
    protected override void RegisterEvent()
    {
        EventDelegate.Set(_view.BackBtn.onClick, () => { SdkProxyModule.CloseModuleSlow(SdkPlatformRegisterView.NAME); });
        EventDelegate.Set(_view.RegisterBtn.onClick, OnRegister);
    }

    public void OnRegister()
    {
        string phone = _view.AccoutInput.value;
        SdkService.RequestPhoneCode(phone, (code)=>
        {
            if (BaseView.IsViewDestroy(View))
                return;

            if (code==0)
            {
                var com = SdkProxyModule.OpenModule<SdkRegisterConfirmController>(SdkRegisterConfirmView.NAME);
                com.InitData(phone);
            }
        });
    }
}
