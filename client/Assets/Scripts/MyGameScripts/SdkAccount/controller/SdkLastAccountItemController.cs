// **********************************************************************
// Copyright (c) 2016 Baoyugame. All rights reserved.
// Author : Xianjian
// Created : 9/26/2016 7:46:49 PM
// Desc	: Auto generated by MarsZ. update this if need.
// **********************************************************************

using UnityEngine;
using SdkAccountDto;

 /// <summary>
 /// This is the controller class for module LastAccountItem, use this to control the ui or view , such as it's init , update or dispose.
 /// @Xianjian in 9/26/2016 7:46:49 PM
 /// </summary>
public class SdkLastAccountItemController : MonolessViewController<SdkLastAccountItem>
{

    public SdkLastAccountItemController(GameObject _gameObject)
        : base(_gameObject)
    {
    }

    private int _index;
    private System.Action<int> _commitCallback;
    private System.Action<int> _deleteCallback;

    public void InitItem(int index, System.Action<int> commit, System.Action<int> pDelete)
    {
        _index = index;
        _commitCallback = commit;
        _deleteCallback = pDelete;
    }

    protected override void RegisterEvent()
    {
        EventDelegate.Set(_view.LastAccountItemBtn.onClick, () => { _commitCallback(_index); });
        EventDelegate.Set(_view.DeleteBtn.onClick, () => { _deleteCallback(_index); });
    }

    public void RefreshShow(AccountDto dto)
    { 
        _view.LastLabel.text = dto.name;
        _view.LastIcon.spriteName = SdkAccountModel.Instance.GetAccountIcon(dto.type);
    }
}
